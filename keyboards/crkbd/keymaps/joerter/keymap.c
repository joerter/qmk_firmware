/*
Copyright 2019 @foostan
Copyright 2020 Drashna Jaelre <@drashna>

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 2 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.  If not, see <http://www.gnu.org/licenses/>.
*/

#include QMK_KEYBOARD_H

// Enable RGB underglow
#ifdef RGBLIGHT_ENABLE

void keyboard_post_init_user(void) {
    // Enable RGB, set to red color
    rgblight_enable();
    rgblight_sethsv(0, 255, 255);  // HSV: Red (0), Full saturation (255), Full brightness (255)
}

#endif

enum custom_keycodes {
    QMK_TMUX_SEARCH = SAFE_RANGE,
    QMK_TMUX_SESSIONS,
    QMK_TMUX_ZOOM,
    QMK_TMUX_COMMAND,
    QMK_TMUX_PREV_PANE,
    QMK_TMUX_NEXT_PANE,
    QMK_TMUX_H_SPLIT,
    QMK_TMUX_V_SPLIT,
    QMK_TMUX_W_LEFT,
    QMK_TMUX_W_DOWN,
    QMK_TMUX_W_UP,
    QMK_TMUX_W_RIGHT,
};

bool process_record_user(uint16_t keycode, keyrecord_t *record) {
    switch (keycode) {
    case QMK_TMUX_SEARCH:
        if (record->event.pressed) {
           SEND_STRING(SS_LCTL(" ")"[");
        }
        break;
    case QMK_TMUX_SESSIONS:
        if (record->event.pressed) {
           SEND_STRING(SS_LCTL(" ")"s");
        }
        break;
    case QMK_TMUX_ZOOM:
        if (record->event.pressed) {
           SEND_STRING(SS_LCTL(" ")"z");
        }
        break;
    case QMK_TMUX_COMMAND:
        if (record->event.pressed) {
           SEND_STRING(SS_LCTL(" ")":");
        }
        break;
    case QMK_TMUX_PREV_PANE:
        if (record->event.pressed) {
           SEND_STRING(SS_LCTL(" ")"p");
        }
        break;
    case QMK_TMUX_NEXT_PANE:
        if (record->event.pressed) {
           SEND_STRING(SS_LCTL(" ")"n");
        }
        break;
    case QMK_TMUX_H_SPLIT:
        if (record->event.pressed) {
           SEND_STRING(SS_LCTL(" ")"\"");
        }
        break;
    case QMK_TMUX_V_SPLIT:
        if (record->event.pressed) {
           SEND_STRING(SS_LCTL(" ")"%");
        }
        break;
    case QMK_TMUX_W_LEFT:
        if (record->event.pressed) {
           SEND_STRING(SS_LCTL(" ")"h");
        }
        break;
    case QMK_TMUX_W_DOWN:
        if (record->event.pressed) {
           SEND_STRING(SS_LCTL(" ")"j");
        }
        break;
    case QMK_TMUX_W_UP:
        if (record->event.pressed) {
           SEND_STRING(SS_LCTL(" ")"k");
        }
        break;
    case QMK_TMUX_W_RIGHT:
        if (record->event.pressed) {
           SEND_STRING(SS_LCTL(" ")"l");
        }
        break;
    }
    return true;
};

const uint16_t PROGMEM keymaps[][MATRIX_ROWS][MATRIX_COLS] = {
    [0] = LAYOUT_split_3x6_3(
  //,------------------------------------------------------------------------------------------.                            ,----------------------------------------------------------------------------------------------------.
      KC_CAPS,         KC_Q,            KC_W,            KC_E,            KC_R,            KC_T,                                 KC_Y,             KC_U,            KC_I,            KC_O,               KC_P,              KC_NO,
  //|--------+-------------+----------------+----------------+----------------+----------------|                            |--------+-----------------+----------------+----------------+-------------------+-------------------|
        MO(6), LCTL_T(KC_A),    LALT_T(KC_S),    LGUI_T(KC_D),    LSFT_T(KC_F),            KC_G,                                 KC_H,     LSFT_T(KC_J),    LGUI_T(KC_K),    LALT_T(KC_L),    LCTL_T(KC_SCLN),            KC_QUOT,
  //|--------+-------------+----------------+----------------+----------------+----------------|                            |--------+-----------------+----------------+----------------+-------------------+-------------------|
        MO(5),         KC_Z,            KC_X,            KC_C,            KC_V,            KC_B,                                 KC_N,             KC_M,         KC_COMM,          KC_DOT,            KC_SLSH,              KC_NO,
  //|--------+-------------+----------------+----------------+----------------+--------------------------------|      |--------------+-----------------+----------------+----------------+-------------------+-------------------|
                                                                 LT(1, KC_ESC),   LT(2, KC_TAB),  LT(3, KC_DEL),        LT(4, KC_ENT),    LT(5, KC_SPC),   LT(6, KC_BSPC)
                                                              //`----------------------------------------------'     `--------------------------------------------------'

  ),
    // Symbols
    [1] = LAYOUT_split_3x6_3(
  //,-------------------------------------------------------------------------------------------------.                            ,-----------------------------------------------------------------------------------------------------------.
        KC_NO,         KC_NO,            KC_NO,            KC_NO,            KC_NO,            KC_NO,                                 KC_GRV,             KC_LPRN,            KC_RPRN,            KC_UNDS,         KC_PEQL,            KC_NO,
  //|--------+--------------+-----------------+-----------------+-----------------+-------------------|                            |-----------+--------------------+-------------------+-----------------+----------------+-------------------|
        KC_NO,  LCTL_T(KC_A),     LALT_T(KC_S),     LGUI_T(KC_D),     LSFT_T(KC_F),            KC_NO,                                 KC_TILD,              KC_LCBR,            KC_RCBR,          KC_PMNS,         KC_PLUS,            KC_NO,
  //|--------+--------------+-----------------+-----------------+-----------------+-------------------|                            |-----------+--------------------+-------------------+-----------------+----------------+-------------------|
        KC_NO,          KC_NO,           KC_NO,            KC_NO,            KC_NO,             KC_NO,                                 KC_BSLS,             KC_LBRC,              KC_RBRC,          KC_PAST,         KC_DLR,            KC_NO,
  //|--------+--------------+-----------------+-----------------+-----------------+------------------------------------|      |----------------+--------------------+-------------------+-----------------+----------------+-------------------|
                                                                     LT(1, KC_ESC),      LT(2, KC_TAB),   LT(3, KC_DEL),                KC_NO,             KC_NO,              KC_NO
                                                              //`------------------------------------------------------'     `----------------------------------------------------------'
  ),
    // Nav
    [2] = LAYOUT_split_3x6_3(

  //,------------------------------------------------------------------------------------------.                            ,----------------------------------------------------------------------------------------------------.
      KC_CAPS,         KC_Q,            KC_W,            KC_E,            KC_R,            KC_T,                                 QMK_TMUX_PREV_PANE,             QMK_TMUX_H_SPLIT,            QMK_TMUX_V_SPLIT,            QMK_TMUX_NEXT_PANE,               KC_NO,              KC_NO,
  //|--------+-------------+----------------+----------------+----------------+----------------|                            |--------+-----------------+----------------+----------------+-------------------+-------------------|
        KC_NO, LCTL_T(KC_A),    QMK_TMUX_SEARCH,    LGUI_T(KC_D),    QMK_TMUX_SESSIONS,            KC_G,                                 QMK_TMUX_W_LEFT,     QMK_TMUX_W_DOWN,    QMK_TMUX_W_UP,    QMK_TMUX_W_RIGHT,    KC_NO,            KC_NO,
  //|--------+-------------+----------------+----------------+----------------+----------------|                            |--------+-----------------+----------------+----------------+-------------------+-------------------|
        KC_NO,         QMK_TMUX_ZOOM,            KC_X,            KC_C,            KC_V,            KC_B,                                 KC_LEFT,             KC_DOWN,         KC_UP,          KC_RIGHT,            KC_NO,              KC_NO,
  //|--------+-------------+----------------+----------------+----------------+--------------------------------|      |--------------+-----------------+----------------+----------------+-------------------+-------------------|
                                                                 LT(1, KC_ESC),   LT(2, KC_TAB),  LT(3, KC_DEL),        LT(4, KC_ENT),    LT(5, KC_SPC),   LT(6, KC_BSPC)
                                                              //`----------------------------------------------'     `--------------------------------------------------'
  ),
    // Numbers
    [3] = LAYOUT_split_3x6_3(
  //,-------------------------------------------------------------------------------------------------.                            ,-----------------------------------------------------------------------------------------------------------.
        KC_NO,         KC_NO,            KC_NO,            KC_NO,            KC_NO,             KC_NO,                                 KC_NO,             KC_7,            KC_8,          KC_9,         KC_NO,            KC_NO,
  //|--------+--------------+-----------------+-----------------+-----------------+-------------------|                            |--------+-----------------+----------------+--------------+--------------+-----------------+---------------|
        KC_NO,  LCTL_T(KC_A),     LALT_T(KC_S),     LGUI_T(KC_D),     LSFT_T(KC_F),             KC_NO,                                 KC_NO,             KC_4,            KC_5,          KC_6,         KC_NO,            KC_NO,
  //|--------+--------------+-----------------+-----------------+-----------------+-------------------|                            |--------+-----------------+----------------+--------------+--------------+-----------------+---------------|
        KC_NO,          KC_NO,           KC_NO,            KC_NO,            KC_NO,             KC_NO,                                  KC_0,             KC_1,            KC_2,          KC_3,         KC_NO,            KC_NO,
  //|--------+--------------+-----------------+-----------------+-----------------+------------------------------------|      |-------------+-----------------+----------------+--------------+--------------+-----------------+---------------|
                                                                     LT(1, KC_ESC),     LT(2, KC_TAB),   LT(3, KC_DEL),              KC_PMNS,          KC_UNDS,           KC_NO
                                                              //`------------------------------------------------------'     `----------------------------------------------------------'
),
    // Function
    [4] = LAYOUT_split_3x6_3(
  //,-------------------------------------------------------------------------------------------------.                            ,-----------------------------------------------------------------------------------------------------------.
        KC_F1,         KC_F2,            KC_F3,            KC_F4,            KC_F5,             KC_F6,                                 KC_F7,             KC_F8,            KC_F9,          KC_F10,         KC_F11,            KC_F12,
  //|--------+--------------+-----------------+-----------------+-----------------+-------------------|                            |--------+-----------------+----------------+--------------+--------------+-----------------+---------------|
        KC_NO,  LCTL_T(KC_A),     LALT_T(KC_S),     LGUI_T(KC_D),     LSFT_T(KC_F),             KC_NO,                                 KC_NO,             KC_NO,            KC_NO,          KC_NO,         KC_NO,            KC_NO,
  //|--------+--------------+-----------------+-----------------+-----------------+-------------------|                            |--------+-----------------+----------------+--------------+--------------+-----------------+---------------|
        KC_NO,          KC_NO,           KC_NO,            KC_NO,            KC_NO,             KC_NO,                                  KC_NO,             KC_NO,            KC_NO,          KC_NO,         KC_NO,            KC_NO,
  //|--------+--------------+-----------------+-----------------+-----------------+------------------------------------|      |-------------+-----------------+----------------+--------------+--------------+-----------------+---------------|
                                                                     LT(1, KC_ESC),     LT(2, KC_TAB),   LT(3, KC_DEL),              KC_NO,          KC_NO,           KC_NO
                                                              //`------------------------------------------------------'     `----------------------------------------------------------'
    ),

    // Media and RGB
    [5] = LAYOUT_split_3x6_3(
  //,-------------------------------------------------------------------------------------------------.                            ,-----------------------------------------------------------------------------------------------------------.
      RGB_TOG,       RGB_MOD,          RGB_HUI,          RGB_SAI,          RGB_VAI,           RGB_SPI,                               KC_MUTE,          KC_VOLD,         KC_VOLU,       KC_MPRV,       KC_MPLY,          KC_MNXT,
  //|--------+--------------+-----------------+-----------------+-----------------+-------------------|                            |--------+-----------------+----------------+--------------+--------------+-----------------+---------------|
        KC_NO,  LCTL_T(KC_A),     LALT_T(KC_S),     LGUI_T(KC_D),     LSFT_T(KC_F),             KC_NO,                               RGB_M_P,         RGB_RMOD,         RGB_HUD,       RGB_SAD,       RGB_VAD,          RGB_SPD,
  //|--------+--------------+-----------------+-----------------+-----------------+-------------------|                            |--------+-----------------+----------------+--------------+--------------+-----------------+---------------|
        KC_NO,          KC_NO,           KC_NO,            KC_NO,            KC_NO,             KC_NO,                               RGB_M_P,         RGB_RMOD,         RGB_HUD,       RGB_SAD,       RGB_VAD,          RGB_SPD,
  //|--------+--------------+-----------------+-----------------+-----------------+------------------------------------|      |-------------+-----------------+----------------+--------------+--------------+-----------------+---------------|
                                                                     LT(1, KC_ESC),     LT(2, KC_TAB),   LT(3, KC_DEL),                KC_NO,            KC_NO,           KC_NO
                                                              //`------------------------------------------------------'     `----------------------------------------------------------'
    ),

    // Symbols 2
    [6] = LAYOUT_split_3x6_3(
  //,-------------------------------------------------------------------------------------------------.                            ,-----------------------------------------------------------------------------------------------------------.
        KC_NO,         KC_NO,            KC_NO,            KC_NO,            KC_NO,            KC_BSLS,                                 KC_PIPE,             KC_AMPR,            KC_ASTR,            KC_NO,         KC_LPRN,            KC_RPRN,
  //|--------+--------------+-----------------+-----------------+-----------------+-------------------|                            |-----------+--------------------+-------------------+-----------------+----------------+-------------------|
        KC_NO,  LCTL_T(KC_A),     LALT_T(KC_S),     LGUI_T(KC_D),     LSFT_T(KC_F),            KC_PEQL,                                 KC_PLUS,              KC_DLR,            KC_PERC,          KC_CIRC,         KC_LBRC,            KC_RBRC,
  //|--------+--------------+-----------------+-----------------+-----------------+-------------------|                            |-----------+--------------------+-------------------+-----------------+----------------+-------------------|
        KC_NO,          KC_NO,           KC_NO,            KC_NO,            KC_NO,             KC_GRV,                                 KC_TILD,             KC_EXLM,              KC_AT,          KC_HASH,         KC_LCBR,            KC_RCBR,
  //|--------+--------------+-----------------+-----------------+-----------------+------------------------------------|      |----------------+--------------------+-------------------+-----------------+----------------+-------------------|
                                                                     LT(1, KC_ESC),      LT(2, KC_TAB),   LT(3, KC_DEL),                KC_PMNS,             KC_UNDS,              KC_NO
                                                              //`------------------------------------------------------'     `----------------------------------------------------------'
    ),
};
